# AWS x86_64 c7i metal instances pool

default-flavor: c7i.metal-24xl
flavor-regex: ^c7i\..+$

custom-flavors:
    - name: c7i.metal-24xl-100
      base: c7i.metal-24xl
      disk:
          - size: "100 GiB"
          - additional-disks:
                max-count: 5
                min-size: "10 GiB"
                max-size: "512 GiB"

    - name: c7i.metal-24xl-250
      base: c7i.metal-24xl
      disk:
          - size: "250 GiB"
          - additional-disks:
                max-count: 5
                min-size: "10 GiB"
                max-size: "512 GiB"

    - name: c7i.metal-24xl-500
      base: c7i.metal-24xl
      disk:
          - size: "500 GiB"
          - additional-disks:
                max-count: 5
                min-size: "10 GiB"
                max-size: "512 GiB"

patch-flavors:
    - name-regex: 'c7i\..+'
      cpu:
          family: 6
          family-name: Sapphire Rapids
          model: 143
          model-name: Intel(R) Xeon(R) Platinum 8488C
          flag:
              - fpu
              - vme
              - de
              - pse
              - tsc
              - msr
              - pae
              - mce
              - cx8
              - apic
              - sep
              - mtrr
              - pge
              - mca
              - cmov
              - pat
              - pse36
              - clflush
              - dts
              - acpi
              - mmx
              - fxsr
              - sse
              - sse2
              - ss
              - ht
              - tm
              - pbe
              - syscall
              - nx
              - pdpe1gb
              - rdtscp
              - lm
              - constant_tsc
              - art
              - arch_perfmon
              - pebs
              - bts
              - rep_good
              - nopl
              - xtopology
              - nonstop_tsc
              - cpuid
              - aperfmperf
              - tsc_known_freq
              - pni
              - pclmulqdq
              - dtes64
              - monitor
              - ds_cpl
              - vmx
              - smx
              - est
              - tm2
              - ssse3
              - sdbg
              - fma
              - cx16
              - xtpr
              - pdcm
              - pcid
              - dca
              - sse4_1
              - sse4_2
              - x2apic
              - movbe
              - popcnt
              - tsc_deadline_timer
              - aes
              - xsave
              - avx
              - f16c
              - rdrand
              - lahf_lm
              - abm
              - 3dnowprefetch
              - cpuid_fault
              - epb
              - cat_l3
              - cat_l2
              - cdp_l3
              - intel_ppin
              - cdp_l2
              - ssbd
              - mba
              - ibrs
              - ibpb
              - stibp
              - ibrs_enhanced
              - tpr_shadow
              - flexpriority
              - ept
              - vpid
              - ept_ad
              - fsgsbase
              - tsc_adjust
              - bmi1
              - avx2
              - smep
              - bmi2
              - erms
              - invpcid
              - cqm
              - rdt_a
              - avx512f
              - avx512dq
              - rdseed
              - adx
              - smap
              - avx512ifma
              - clflushopt
              - clwb
              - intel_pt
              - avx512cd
              - sha_ni
              - avx512bw
              - avx512vl
              - xsaveopt
              - xsavec
              - xgetbv1
              - xsaves
              - cqm_llc
              - cqm_occup_llc
              - cqm_mbm_total
              - cqm_mbm_local
              - split_lock_detect
              - user_shstk
              - avx_vnni
              - avx512_bf16
              - wbnoinvd
              - dtherm
              - ida
              - arat
              - pln
              - pts
              - hwp
              - hwp_act_window
              - hwp_epp
              - hwp_pkg_req
              - hfi
              - vnmi
              - avx512vbmi
              - umip
              - pku
              - ospke
              - waitpkg
              - avx512_vbmi2
              - gfni
              - vaes
              - vpclmulqdq
              - avx512_vnni
              - avx512_bitalg
              - tme
              - avx512_vpopcntdq
              - la57
              - rdpid
              - bus_lock_detect
              - cldemote
              - movdiri
              - movdir64b
              - enqcmd
              - fsrm
              - md_clear
              - serialize
              - tsxldtrk
              - pconfig
              - arch_lbr
              - ibt
              - amx_bf16
              - avx512_fp16
              - amx_tile
              - amx_int8
              - flush_l1d
              - arch_capabilities
      virtualization:
          is-supported: true
          is-virtualized: false
